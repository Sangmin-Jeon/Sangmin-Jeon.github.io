---
layout: post
title: "[RxSwift] #2 Observable, Operators ì•Œì•„ë³´ê¸° "
color: rgb(50, 170, 250)
tags: [iOS, Swift, UIKit, RxSwift]
---

<div style="text-align:center;">
    <img src="https://github.com/Sangmin-Jeon/Sangmin-Jeon.github.io/assets/59474775/3e7c5cb2-77b1-4f4b-9c25-efc881787c5d" width="50%">
</div>

ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹  
ì €ë²ˆ ê¸€ì—ì„œ RxSwiftì˜ ê¸°ë³¸ê°œë…ì„ ì•Œì•„ë³´ì•˜ëŠ”ë°ìš”.  
ì´ì œ ë¶€í„° ë³¸ê²©ì ìœ¼ë¡œ RxSwiftì— ëŒ€í•´ í¬ìŠ¤íŒ…í•˜ê² ìŠµë‹ˆë‹¤.  

## Rxì˜ êµ¬ì„±ìš”ì†Œ
---
RxSwiftì˜ êµ¬ì„±ìš”ì†Œì—ëŠ” 3ê°€ì§€ê°€ ìˆëŠ”ë°  
ë°”ë¡œ `Observable`, `Operators`, `Schedulers` ì…ë‹ˆë‹¤.  
`Schedulers`ëŠ” ë‹¤ìŒì— ë”°ë¡œ í¬ìŠ¤íŒ… í•  ì˜ˆì •ì´ê¸°ì— ì—¬ê¸°ì—ì„œëŠ” 3ìš”ì†Œë“¤ì¤‘ `Observable`, `Operators`ë¥¼ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.  

<br>

## Observableì´ë€
---
Observable = `ê´€ì°° ê°€ëŠ¥í•œ` ì´ë¼ëŠ” ëœ»ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.  
RxSwiftì—ì„œ Observableì€ ë°ì´í„°ë‚˜ ì´ë²¤íŠ¸ì˜ ìŠ¤íŠ¸ë¦¼ì„ ë‚˜íƒ€ë‚´ë©°, ì´ë¥¼ í†µí•´ ê´€ì°°ìê°€ ë°ì´í„°ë‚˜ ì´ë²¤íŠ¸ì˜ ë³€í™”ë¥¼ ê°ì§€í•˜ê³  ë°˜ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.     
ObservableëŠ” next, completed, error ë¼ëŠ” 3ê°€ì§€ eventë¥¼ ë°©ì¶œí•˜ëŠ”ë°ìš”.   

~~~swift
/// Represents a sequence event.
///
/// Sequence grammar:
/// **next\* (error | completed)**
public enum Event<Element> {
    /// Next element is produced.
    case next(Element)
    /// Sequence terminated with an error.
    case error(Swift.Error)
    /// Sequence completed successfully.
    case completed
}

~~~
RxSwiftëŠ” ì´ë ‡ê²Œ eventë“¤ì„ ì—´ê±°í˜•ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.  
ì—¬ê¸°ì„œ nextë¥¼ í†µí•´ eventë¥¼ ë°©ì¶œ í•˜ê³  completedì™€ error ì´ë²¤íŠ¸ ì¤‘ í•˜ë‚˜ê°€ ë°œìƒë ë•Œ ê¹Œì§€ eventë¥¼ ë°©ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ì¦‰, completedì™€ error eventëŠ” Observableì˜ lifeCycleì—ì„œ ê°€ì¥ ë§ˆì§€ë§‰ì— ì „ë‹¬ë˜ë©° Observableì˜ ì¢…ë£Œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.   

#### 1. A next event
ìµœì‹  ë˜ëŠ” ë‹¤ìŒ ë°ì´í„° ê°’ì„ ì „ë‹¬ í•˜ëŠ” ì´ë²¤íŠ¸ ì…ë‹ˆë‹¤.  
Observableì—ì„œ ë°œìƒí•œ ìƒˆë¡œìš´ eventëŠ” ì´ nextë¡œ Observerì—ê²Œ ì „ë‹¬ í•˜ê²Œ ë©ë‹ˆë‹¤.  

ìœ„ì—ì„œ Observableì€ completedì™€ error eventê°€ ë°œìƒí•˜ê¸° ì „ê¹Œì§€ëŠ” ê³„ì† next eventë¡œ 
ë°ì´í„°ë¥¼ ë°©ì¶œí•  ìˆ˜ ìˆë‹¤ê³  í–ˆì£ ?  
ê·¸ëŸ¼ í™•ì¸ì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.  

ì—¬ê¸°ì—ì„œëŠ” createì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ Observableì„ ìƒì„±í•˜ê³  í™•ì¸ í•´ë³´ê² ìŠµë‹ˆë‹¤.  
~~~swift
let observable = Observable<Int>.create { (observer) -> Disposable in
    observer.onNext(1)
    observer.onNext(2)
    observer.onNext(3)

    return Disposables.create()
}

observable.subscribe({ event in
    print(event) // 1, 2, 3 ì¶œë ¥
}).disposed(by: DisposeBag())

~~~

ì˜ˆìƒ í–ˆë˜ ëŒ€ë¡œ onNext evnetë¥¼ êµ¬ë…ìë¡œ ì˜ ì „ë‹¬í•˜ì—¬ 1, 2, 3ì´ ì¶œë ¥ë˜ëŠ”ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ìœ„ ì½”ë“œì—ì„œëŠ” createì—°ì‚°ìë¡œ Observableë¥¼ ì§ì ‘ êµ¬í˜„í•˜ì—¬ ë§ˆì§€ë§‰ next eventë°©ì¶œ í›„ì—ë„ completedì™€ error eventê°€  
ë°œìƒí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— Observableì´ ì¢…ë£Œë˜ì§€ ì•Šê³  ê³„ì† ë‹¤ë¥¸ eventë¥¼ ë°©ì¶œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

ë§ˆë¸” ë‹¤ì´ì–´ ê·¸ë¨ìœ¼ë¡œ í‘œí˜„í•˜ìë©´  
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-05-13 á„‹á…©á„’á…® 9 50 52](https://github.com/Sangmin-Jeon/Sangmin-Jeon.github.io/assets/59474775/9fb2687b-9920-4ab2-bb42-6f6eafc9df98)

ì´ëŸ°ì‹ìœ¼ë¡œ í‘œí˜„ í•  ìˆ˜ ìˆê² ë„¤ìš”.  

#### 2. A completed event
ì´ë²¤íŠ¸ ì‹œí€€ìŠ¤ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì¢…ë£Œ í–ˆìŒì„ ì•Œë¦½ë‹ˆë‹¤.  

~~~swift
let observable = Observable<Int>.create { (observer) -> Disposable in
    observer.onNext(1)
    observer.onNext(2)
    observer.onNext(3)

    observer.onCompleted()

    return Disposables.create()
}

observable.subscribe({ event in
    print(event) // 1, 2, 3 ì¶œë ¥
}).disposed(by: DisposeBag())

~~~
ì—¬ê¸°ì„œ onCompleted eventë¥¼ ë°œìƒì‹œí‚¤ë©´ completedì´ë²¤íŠ¸ ì „ë‹¬ í›„ Observableì´ ì¢…ë£Œë˜ì–´  
ë” ì´ìƒ ë‹¤ë¥¸ eventë“¤ì„ ë°©ì¶œí•˜ì§€ ëª»í•˜ê²Œ ë˜ëŠ”ê²ƒ ì…ë‹ˆë‹¤.  

~~~swift
let observable = Observable<Int>.create { (observer) -> Disposable in
    observer.onNext(1)
    observer.onNext(2)
    observer.onNext(3)

    observer.onCompleted()

    observer.onNext(4) // ë°©ì¶œ ë˜ì§€ ì•ŠìŒ

    return Disposables.create()
}

observable.subscribe({ event in
    print(event) // 1, 2, 3 ì¶œë ¥
}).disposed(by: DisposeBag())

~~~
ìœ„ ì½”ë“œì—ì„œ onCompleted ì´í›„ onNextë¡œ 4ë¼ëŠ” ìš”ì†Œë¥¼ ë°©ì¶œ í•˜ê³  ìˆëŠ”ë°  
completedì´ë²¤íŠ¸ ì „ë‹¬ í›„ Observableì´ ì¢…ë£Œë˜ì—ˆê¸° ë•Œë¬¸ì— 4ëŠ” ë°©ì¶œë˜ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤.  

#### 3. An error event
ì˜¤ë¥˜ë¡œ ì¢…ë£Œë˜ì—ˆìœ¼ë©° ë‹¤ë¥¸ ì´ë²¤íŠ¸ë¥¼ ë°œìƒ ì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.  

ë§ ê·¸ëŒ€ë¡œ ì…ë‹ˆë‹¤.  
Observableì´ ì´ë²¤íŠ¸ë¥¼ ë°©ì¶œ ì‹œ ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ error eventë¥¼ êµ¬ë…ìì—ê²Œ ì „ë‹¬ í›„ Observableì´ ì¢…ë£Œ ë©ë‹ˆë‹¤.  

~~~swift
let observable = Observable<Int>.create { (observer) -> Disposable in
    observer.onError(RxError.unknown)

    return Disposables.create()
}

observable.subscribe({ event in
    print(event) // error ë©”ì„¸ì§€ ì¶œë ¥
}).disposed(by: DisposeBag())

~~~

ì´ ë˜í•œ Observableì´ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— error eventë°œìƒ í›„ì—ëŠ” ë‹¤ë¥¸ eventë¥¼ ë°©ì¶œ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.  

<br>

## Operatorsë€
---
OperatorëŠ” ì—°ì‚°ìë¡œ Rxì—ì„œëŠ” ì‚¬ìš©ë˜ëŠ” ë©”ì„œë“œëŠ” ë©”ì„œë“œë¼ê³  ë¶€ë¥´ì§€ ì•Šê³  ì—°ì‚°ì(Operator)ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.  
Observableì— `.(dot)`ìœ¼ë¡œ ì ‘ê·¼í•˜ì—¬ ì‚¬ìš©ë˜ëŠ”ê²ƒì´ ì—°ì‚°ì(Operator) ì…ë‹ˆë‹¤.  

ê·¸ëŸ¼ just, of, from ì—°ì‚°ì í†µí•´ Observableì„ ìƒì„±í•˜ë©´ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.  

~~~swift
let one = 1
let two = 2
let three = 3

// 1ë²ˆ Observable
let observable1: Observable<Int> = Observable<Int>.just(one)

// 1ë²ˆ Observable êµ¬ë…ì
observable1.subscribe { event in
    print(event) // 1
}.disposed(by: DisposeBag())

// 2ë²ˆ Observable
let observable2 = Observable.of(one, two, three)

// 2ë²ˆ Observable êµ¬ë…ì
observable2.subscribe { event in
    print(event) // 1, 2, 3
}.disposed(by: DisposeBag())

~~~

#### 1. just
ìœ„ ì½”ë“œì—ì„œ 1ë²ˆ Observableì˜ `just`ëŠ” ë‹¨ í•˜ë‚˜ì˜ ìš”ì†Œë¡œ ê´€ì°° ê°€ëŠ¥í•œ ì‹œí€€ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì—°ì‚°ì ì…ë‹ˆë‹¤.  
justì—°ì‚°ìë¥¼ í†µí•´ 1ì´ë¼ëŠ” ë°ì´í„°ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.  
ë”°ë¼ì„œ 1ë²ˆ Observable êµ¬ë…ìì—ì„œ 1ì´ë¼ëŠ” ë°ì´í„°ë¥¼ ë°›ì•„ ì¶œë ¥í•˜ê²Œ ë©ë‹ˆë‹¤.  
justëŠ” ê°€ì¥ ê°„ë‹¨í•œ ì—°ì‚°ìë¡œ í•˜ë‚˜ì˜ ìš”ì†Œë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.  

#### 2. of
ì´ì œ 2ë²ˆ Observableì„ ë³´ê² ìŠµë‹ˆë‹¤.  
ì—¬ê¸°ì„œëŠ” `of`ë¼ëŠ” ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ (1, 2, 3)ì„ ìˆœì„œëŒ€ë¡œ ë°œìƒì‹œí‚¤ê³  ìˆìŠµë‹ˆë‹¤.  
ì—¬ëŸ¬ê°œì˜ ë°ì´í„°ë¥¼ ë°œìƒí•˜ì—¬ ë°°ì—´ì´ë¼ê³  ìƒê°í•  ìˆ˜ë„ ìˆëŠ”ë° íƒ€ì…ì„ í™•ì¸í•´ ë³´ë©´ `Observable<Int>` ì¸ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ê·¸ ì´ìœ ëŠ” ofì—°ì‚°ìê°€ ì „ë‹¬ë˜ëŠ” ë°ì´í„°ë“¤ì˜ íƒ€ì…ì— ë”°ë¼ ë‹¤ì–‘í•œ ë°ì´í„°ë“¤ì„ ê°€ë³€ì ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  
ì¦‰, (1, 2, 3)ì„ ë°°ì—´ì´ ì•„ë‹Œ ê°œë³„ì ì¸ ë°ì´í„°ë¥¼ ê°€ì§„ Observableì„ ìƒì„±í•˜ì—¬ ê°ê° ê°œë³„ì ìœ¼ë¡œ ì²˜ë¦¬ í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.   

ì°¸ê³ ë¡œ ë°°ì—´ì„ ìƒì„±í•˜ê³  ì‹¶ìœ¼ë©´ 
~~~swift
Observable.of([one, two, three])

~~~
ì´ë ‡ê²Œ ë°°ì—´ì„ ë„£ì–´ì„œ ìƒì„±í•˜ë©´ ë©ë‹ˆë‹¤.  
justë¥¼ ì‚¬ìš©í•´ì„œ ìƒì„±í•  ìˆ˜ë„ ìˆëŠ”ë° ì´ëŠ” justëŠ” ë°°ì—´ì´ë¼ëŠ” ë‹¨ì¼ ìš”ì†Œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ì§€ ë‚´ë¶€ ë°ì´í„°ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  

#### 3. from
~~~swift
let observable = Observable.from([one, two, three])

observable.subscribe { event in
    print(event) // 1, 2, 3 ì¶œë ¥
}.disposed(by: DisposeBag())
~~~
ì´ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ `from` ì—°ì‚°ìì¸ë°ìš” fromì€ ë°°ì—´ë§Œ ì·¨ê¸‰í•œë‹¤ê³  ì•Œê³  ê³„ì‹œë©´ ë©ë‹ˆë‹¤.  
ì…ë ¥ì€ ë°°ì—´ì„ ë°›ì§€ë§Œ ë°°ì—´ì—ì„œ ê°œë³„ì ì¸ ê°’ë“¤ì„ ìƒì„±í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— of ì—°ì‚°ìì™€ ê°™ì´ `Observable<Int>` íƒ€ì…ì´ ë©ë‹ˆë‹¤.  
ì¦‰, ë°°ì—´ì—ì„œ ìš”ì†Œë¥¼ ë½‘ì•„ ê°ê°ì˜ Observableì„ ìƒì„±í•˜ëŠ”ê²ƒì…ë‹ˆë‹¤.  


<br>